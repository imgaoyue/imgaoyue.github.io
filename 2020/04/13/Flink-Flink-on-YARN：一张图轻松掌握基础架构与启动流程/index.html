<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="baidu-site-verification" content="uHZGT15IXQ" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="GaoThinkÂ·æ€è€ƒå¿—">
    <meta name="keyword"  content="å¤§æ•°æ®,Bigdata,Linux,CDH">
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!--<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>-->
   
	<title>
        
          Flink on YARNï¼šä¸€å¼ å›¾è½»æ¾æŒæ¡åŸºç¡€æ¶æ„ä¸å¯åŠ¨æµç¨‹ - GaoThinkÂ·æ€è€ƒå¿—
        
    </title>

    <link rel="canonical" href="http://gaothink.top/2020/04/13/Flink-Flink-on-YARNï¼šä¸€å¼ å›¾è½»æ¾æŒæ¡åŸºç¡€æ¶æ„ä¸å¯åŠ¨æµç¨‹/">

    <!-- Bootstrap Core CSS -->
    
<link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Custom CSS --> 
    
        
<link rel="stylesheet" href="/css/dusign-light.css">

        
<link rel="stylesheet" href="/css/dusign-common-light.css">

        
<link rel="stylesheet" href="/css/font-awesome.css">

        
<link rel="stylesheet" href="/css/toc.css">

        <!-- background effects end -->
    
    
	<!-- fancybox support -->
    
      
<link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css">

    
	
    <!-- Pygments Highlight CSS -->
    
<link rel="stylesheet" href="/css/highlight.css">


    
<link rel="stylesheet" href="/css/widget.css">


    
<link rel="stylesheet" href="/css/rocket.css">


    
<link rel="stylesheet" href="/css/signature.css">


    
<link rel="stylesheet" href="/css/fonts.googleapis.css">


    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <!-- photography -->
    
<link rel="stylesheet" href="/css/photography.css">


    <!-- ga & ba script hoook -->
    <script></script>
	
	
	<!-- Baidu Tongji -->
    
    <script>
        // dynamic User by Hux
        var _baId = '3c93829ba3b988ba61d1e9a4688967d3';
    
        // Originial
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "//hm.baidu.com/hm.js?" + _baId;
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
    </script>

	
<meta name="generator" content="Hexo 4.2.0"></head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- background effects start -->
    
    <!-- background effects end -->

	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            
                background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('')
                /*post*/
            
        
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#Flink" title="Flink">Flink</a>
                            
                              <a class="tag" href="/tags/#Yarn" title="Yarn">Yarn</a>
                            
                        </div>
                        <h1>Flink on YARNï¼šä¸€å¼ å›¾è½»æ¾æŒæ¡åŸºç¡€æ¶æ„ä¸å¯åŠ¨æµç¨‹</h1>
                        <h2 class="subheading"></h2>
                        <span class="meta">
                            Posted by GY on
                            2020-04-13
                        </span>

                        
                            <div class="blank_box"></div>
                            <span class="meta">
                                Words <span class="post-count">3.2k</span> and
                                Reading Time <span class="post-count">11</span> Minutes
                            </span>
                            <div class="blank_box"></div>
                            <!-- ä¸è’œå­ç»Ÿè®¡ start -->
                            <span class="meta">
                                Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
                            </span>
                            <!-- ä¸è’œå­ç»Ÿè®¡ end -->
                        

                    </div>
                

                </div>
            </div>
        </div>      
    </div>

    
    <div class="waveWrapper">
        <div class="wave wave_before" style="background-image: url('/img/wave-light.png')"></div>
        <div class="wave wave_after" style="background-image: url('/img/wave-light.png')"></div>
    </div>
    
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">GaoThink</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/categories/">Categories</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h2 id="Flink-on-YARNï¼šä¸€å¼ å›¾è½»æ¾æŒæ¡åŸºç¡€æ¶æ„ä¸å¯åŠ¨æµç¨‹"><a href="#Flink-on-YARNï¼šä¸€å¼ å›¾è½»æ¾æŒæ¡åŸºç¡€æ¶æ„ä¸å¯åŠ¨æµç¨‹" class="headerlink" title="Flink on YARNï¼šä¸€å¼ å›¾è½»æ¾æŒæ¡åŸºç¡€æ¶æ„ä¸å¯åŠ¨æµç¨‹"></a>Flink on YARNï¼šä¸€å¼ å›¾è½»æ¾æŒæ¡åŸºç¡€æ¶æ„ä¸å¯åŠ¨æµç¨‹</h2><p><a href="https://yq.aliyun.com/articles/719262?type=2" target="_blank" rel="noopener">åŸæ–‡:ã€ŠFlink on YARNï¼šä¸€å¼ å›¾è½»æ¾æŒæ¡åŸºç¡€æ¶æ„ä¸å¯åŠ¨æµç¨‹ã€‹</a></p>
<p><strong>ä½œè€…ï¼šæ¨å¼¢ï¼ˆæè¿œï¼‰</strong></p>
<p>Flink æ”¯æŒ Standalone ç‹¬ç«‹éƒ¨ç½²å’Œ YARNã€Kubernetesã€Mesos ç­‰é›†ç¾¤éƒ¨ç½²æ¨¡å¼ï¼Œå…¶ä¸­ YARN é›†ç¾¤éƒ¨ç½²æ¨¡å¼åœ¨å›½å†…çš„åº”ç”¨è¶Šæ¥è¶Šå¹¿æ³›ã€‚Flink ç¤¾åŒºå°†æ¨å‡º Flink on YARN åº”ç”¨è§£è¯»ç³»åˆ—æ–‡ç« ï¼Œåˆ†ä¸ºä¸Šã€ä¸‹ä¸¤ç¯‡ã€‚æœ¬æ–‡åŸºäº FLIP-6 é‡æ„åçš„èµ„æºè°ƒåº¦æ¨¡å‹å°†ä»‹ç» Flink on YARN åº”ç”¨å¯åŠ¨å…¨æµç¨‹ï¼Œå¹¶è¿›è¡Œè¯¦ç»†æ­¥éª¤è§£æã€‚ä¸‹ç¯‡å°†æ ¹æ®ç¤¾åŒºå¤§ç¾¤åé¦ˆï¼Œè§£ç­”å®¢æˆ·ç«¯å’ŒFlink Clusterçš„å¸¸è§é—®é¢˜ï¼Œåˆ†äº«ç›¸å…³é—®é¢˜çš„æ’æŸ¥æ€è·¯ã€‚</p>
<hr>
<h2 id="Flink-on-YARN-æµç¨‹å›¾"><a href="#Flink-on-YARN-æµç¨‹å›¾" class="headerlink" title="Flink on YARN æµç¨‹å›¾"></a>Flink on YARN æµç¨‹å›¾</h2><p>Flink on YARNé›†ç¾¤éƒ¨ç½²æ¨¡å¼æ¶‰åŠYARNå’ŒFlinkä¸¤å¤§å¼€æºæ¡†æ¶ï¼Œåº”ç”¨å¯åŠ¨æµç¨‹çš„å¾ˆå¤šç¯èŠ‚äº¤ç»‡åœ¨ä¸€èµ·ï¼Œä¸ºäº†ä¾¿äºå¤§å®¶ç†è§£ï¼Œåœ¨ä¸€å¼ å›¾ä¸Šç”»å‡ºäº†Flink on YARNåŸºç¡€æ¶æ„å’Œåº”ç”¨å¯åŠ¨å…¨æµç¨‹ï¼Œå¹¶å¯¹å…³é”®è§’è‰²å’Œæµç¨‹è¿›è¡Œäº†ä»‹ç»è¯´æ˜ï¼Œæ•´ä¸ªå¯åŠ¨æµç¨‹åˆè¢«åˆ’åˆ†æˆå®¢æˆ·ç«¯æäº¤ï¼ˆæµç¨‹æ ‡æ³¨ä¸ºç´«è‰²ï¼‰ã€Flink Clusterå¯åŠ¨å’ŒJobæäº¤è¿è¡Œï¼ˆæµç¨‹æ ‡æ³¨ä¸ºæ©™è‰²ï¼‰ä¸¤ä¸ªé˜¶æ®µåˆ†åˆ«é˜è¿°ï¼Œç”±äºåˆ†æ”¯å’Œç»†èŠ‚å¤ªå¤šï¼Œæœ¬æ–‡ä¼šå¿½ç•¥æ‰ä¸€äº›ï¼Œåªä»‹ç»å…³é”®æµç¨‹ï¼ˆåŸºäºFlinkå¼€æº1.9ç‰ˆæœ¬æºç æ•´ç†ï¼‰ã€‚</p>
<p><img src="https://ucc.alicdn.com/pic/developer-ecology/7730f523b1bd4d73ba40926b4932c06d.png" alt="Flink on YARN å…¨æµç¨‹å›¾.png"></p>
<hr>
<h2 id="å®¢æˆ·ç«¯æäº¤æµç¨‹"><a href="#å®¢æˆ·ç«¯æäº¤æµç¨‹" class="headerlink" title="å®¢æˆ·ç«¯æäº¤æµç¨‹"></a>å®¢æˆ·ç«¯æäº¤æµç¨‹</h2><p><strong>1.æ‰§è¡Œå‘½ä»¤</strong>:<code>bin/flink run -d -m yarn-cluster</code> â€¦æˆ–<code>bin/yarn-session.sh</code>â€¦æ¥æäº¤per-jobè¿è¡Œæ¨¡å¼æˆ–sessionè¿è¡Œæ¨¡å¼çš„åº”ç”¨ï¼›</p>
<p><strong>2.è§£æå‘½ä»¤å‚æ•°é¡¹å¹¶åˆå§‹åŒ–ï¼Œå¯åŠ¨æŒ‡å®šè¿è¡Œæ¨¡å¼</strong>ï¼Œå¦‚æœæ˜¯per-jobè¿è¡Œæ¨¡å¼å°†æ ¹æ®å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šçš„Jobä¸»ç±»åˆ›å»ºjob graphï¼›</p>
<ul>
<li>å¦‚æœå¯ä»¥ä»å‘½ä»¤è¡Œå‚æ•°(-yid )æˆ–YARN propertiesä¸´æ—¶æ–‡ä»¶(<code>${java.io.tmpdir}/.yarn-properties-${user.name}</code>)ä¸­è·å–åº”ç”¨IDï¼Œå‘æŒ‡å®šçš„åº”ç”¨æäº¤Jobï¼›</li>
<li>å¦åˆ™å½“å‘½ä»¤è¡Œå‚æ•°ä¸­åŒ…å« -dï¼ˆè¡¨ç¤ºdetachedæ¨¡å¼ï¼‰å’Œ -m yarn-clusterï¼ˆè¡¨ç¤ºæŒ‡å®šYARNé›†ç¾¤æ¨¡å¼ï¼‰ï¼Œå¯åŠ¨per-jobè¿è¡Œæ¨¡å¼ï¼›</li>
<li>å¦åˆ™å½“å‘½ä»¤è¡Œå‚æ•°é¡¹ä¸åŒ…å« -yqï¼ˆè¡¨ç¤ºæŸ¥è¯¢YARNé›†ç¾¤å¯ç”¨èµ„æºï¼‰æ—¶ï¼Œå¯åŠ¨sessionè¿è¡Œæ¨¡å¼ï¼›</li>
</ul>
<p><strong>3.è·å–YARNé›†ç¾¤ä¿¡æ¯ã€æ–°åº”ç”¨IDå¹¶å¯åŠ¨è¿è¡Œå‰æ£€æŸ¥ï¼›</strong></p>
<ul>
<li><strong>é€šè¿‡YarnClientå‘YARN ResourceManager</strong>(ä¸‹æ–‡ç¼©å†™ä¸ºï¼šYARN RMï¼ŒYARN MasterèŠ‚ç‚¹ï¼Œè´Ÿè´£æ•´ä¸ªé›†ç¾¤èµ„æºçš„ç®¡ç†å’Œè°ƒåº¦)<strong>è¯·æ±‚åˆ›å»ºä¸€ä¸ªæ–°åº”ç”¨</strong>ï¼ˆYARN RMæ”¶åˆ°åˆ›å»ºåº”ç”¨è¯·æ±‚åç”Ÿæˆæ–°åº”ç”¨IDå’Œcontainerç”³è¯·çš„èµ„æºä¸Šé™åè¿”å›ï¼‰ï¼Œå¹¶ä¸”è·å–YARN SlaveèŠ‚ç‚¹æŠ¥å‘Šï¼ˆYARN RMè¿”å›å…¨éƒ¨slaveèŠ‚ç‚¹çš„IDã€çŠ¶æ€ã€rackã€httpåœ°å€ã€æ€»èµ„æºã€å·²ä½¿ç”¨èµ„æºç­‰ä¿¡æ¯ï¼‰ï¼›</li>
<li><strong>è¿è¡Œå‰æ£€æŸ¥</strong>ï¼š(1) ç®€å•éªŒè¯YARNé›†ç¾¤èƒ½å¦è®¿é—®ï¼›(2) æœ€å¤§nodeèµ„æºèƒ½å¦æ»¡è¶³flink JobManager/TaskManager vcoresèµ„æºç”³è¯·éœ€æ±‚ï¼›(3) æŒ‡å®šqueueæ˜¯å¦å­˜åœ¨(ä¸å­˜åœ¨ä¹Ÿåªæ˜¯æ‰“å°WARNä¿¡æ¯ï¼Œåç»­å‘YARNæäº¤æ—¶æ’é™¤å¼‚å¸¸å¹¶é€€å‡º)ï¼›(4)å½“é¢„æœŸåº”ç”¨ç”³è¯·çš„Containerèµ„æºä¼šè¶…å‡ºYARNèµ„æºé™åˆ¶æ—¶æŠ›å‡ºå¼‚å¸¸å¹¶é€€å‡ºï¼›(5) å½“é¢„æœŸåº”ç”¨ç”³è¯·ä¸èƒ½è¢«æ»¡è¶³æ—¶ï¼ˆä¾‹å¦‚æ€»èµ„æºè¶…å‡ºYARNé›†ç¾¤å¯ç”¨èµ„æºæ€»é‡ã€Containerç”³è¯·èµ„æºè¶…å‡ºNMå¯ç”¨èµ„æºæœ€å¤§å€¼ç­‰ï¼‰æä¾›ä¸€äº›å‚è€ƒä¿¡æ¯ã€‚</li>
</ul>
<p>4.<strong>å°†åº”ç”¨é…ç½®</strong>(<code>flink-conf.yamlã€logback.xmlã€log4j.properties</code>)å’Œç›¸å…³æ–‡ä»¶(flink jarsã€ship filesã€user jarsã€job graphç­‰)ä¸Šä¼ è‡³åˆ†å¸ƒå¼å­˜å‚¨(ä¾‹å¦‚HDFS)çš„åº”ç”¨æš‚å­˜ç›®å½•(<code>/user/${user.name}/.flink/</code>)ï¼›</p>
<p>5.<strong>å‡†å¤‡åº”ç”¨æäº¤ä¸Šä¸‹æ–‡</strong>(ApplicationSubmissionContextï¼ŒåŒ…æ‹¬åº”ç”¨çš„åç§°ã€ç±»å‹ã€é˜Ÿåˆ—ã€æ ‡ç­¾ç­‰ä¿¡æ¯å’Œåº”ç”¨Masterçš„containerçš„ç¯å¢ƒå˜é‡ã€classpathã€èµ„æºå¤§å°ç­‰)ï¼Œæ³¨å†Œå¤„ç†éƒ¨ç½²å¤±è´¥çš„shutdown hookï¼ˆæ¸…ç†åº”ç”¨å¯¹åº”çš„HDFSç›®å½•ï¼‰ï¼Œç„¶åé€šè¿‡YarnClientå‘YARN RMæäº¤åº”ç”¨ï¼›</p>
<p>6.<strong>å¾ªç¯ç­‰å¾…ç›´åˆ°åº”ç”¨çŠ¶æ€ä¸ºRUNNINGï¼ŒåŒ…å«ä¸¤ä¸ªé˜¶æ®µï¼š</strong></p>
<ul>
<li><strong>å¾ªç¯ç­‰å¾…åº”ç”¨æäº¤æˆåŠŸï¼ˆSUBMITTEDï¼‰</strong>ï¼šé»˜è®¤æ¯éš”200msé€šè¿‡YarnClientè·å–åº”ç”¨æŠ¥å‘Šï¼Œå¦‚æœåº”ç”¨çŠ¶æ€ä¸æ˜¯NEWå’ŒNEW_SAVINGåˆ™è®¤ä¸ºæäº¤æˆåŠŸå¹¶é€€å‡ºå¾ªç¯ï¼Œæ¯å¾ªç¯10æ¬¡ä¼šå°†å½“å‰çš„åº”ç”¨çŠ¶æ€è¾“å‡ºè‡³æ—¥å¿—ï¼šâ€Application submission is not finished, submitted application is still in â€œï¼Œæäº¤æˆåŠŸåè¾“å‡ºæ—¥å¿—ï¼šâ€Submitted application â€œ</li>
<li><strong>å¾ªç¯ç­‰å¾…åº”ç”¨æ­£å¸¸è¿è¡Œï¼ˆRUNNINGï¼‰</strong>ï¼šæ¯éš”250msé€šè¿‡YarnClientè·å–åº”ç”¨æŠ¥å‘Šï¼Œæ¯è½®å¾ªç¯ä¹Ÿä¼šå°†å½“å‰çš„åº”ç”¨çŠ¶æ€è¾“å‡ºè‡³æ—¥å¿—ï¼šâ€Deploying cluster, current state â€œã€‚åº”ç”¨çŠ¶æ€æˆåŠŸå˜ä¸ºRUNNINGåå°†è¾“å‡ºæ—¥å¿—â€YARN application has been deployed successfully.â€ å¹¶é€€å‡ºå¾ªç¯ï¼Œå¦‚æœç­‰åˆ°çš„æ˜¯éé¢„æœŸçŠ¶æ€å¦‚FAILED/FINISHED/KILLED,å°±ä¼šåœ¨è¾“å‡ºYARNè¿”å›çš„è¯Šæ–­ä¿¡æ¯ï¼ˆâ€The YARN application unexpectedly switched to state during deployment. Diagnostics from YARN: â€¦â€ï¼‰ä¹‹åæŠ›å‡ºå¼‚å¸¸å¹¶é€€å‡ºã€‚</li>
</ul>
<hr>
<h2 id="Flink-Clusterå¯åŠ¨æµç¨‹"><a href="#Flink-Clusterå¯åŠ¨æµç¨‹" class="headerlink" title="Flink Clusterå¯åŠ¨æµç¨‹"></a>Flink Clusterå¯åŠ¨æµç¨‹</h2><p><strong>1.YARN RMä¸­çš„ClientRMService</strong>ï¼ˆä¸ºæ™®é€šç”¨æˆ·æä¾›çš„RPCæœåŠ¡ç»„ä»¶ï¼Œå¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„å„ç§RPCè¯·æ±‚ï¼Œæ¯”å¦‚æŸ¥è¯¢YARNé›†ç¾¤ä¿¡æ¯ï¼Œæäº¤ã€ç»ˆæ­¢åº”ç”¨ç­‰ï¼‰<strong>æ¥æ”¶åˆ°åº”ç”¨æäº¤è¯·æ±‚ï¼Œç®€å•æ ¡éªŒåå°†è¯·æ±‚è½¬äº¤ç»™RMAppManager</strong>ï¼ˆYARN RMå†…éƒ¨ç®¡ç†åº”ç”¨ç”Ÿå‘½å‘¨æœŸçš„ç»„ä»¶ï¼‰ï¼›</p>
<p><strong>2.RMAppManageræ ¹æ®åº”ç”¨æäº¤ä¸Šä¸‹æ–‡å†…å®¹åˆ›å»ºåˆå§‹çŠ¶æ€ä¸ºNEWçš„åº”ç”¨</strong>ï¼Œå°†åº”ç”¨çŠ¶æ€æŒä¹…åŒ–åˆ°RMçŠ¶æ€å­˜å‚¨æœåŠ¡ï¼ˆä¾‹å¦‚ZooKeeperé›†ç¾¤ï¼ŒRMçŠ¶æ€å­˜å‚¨æœåŠ¡ç”¨æ¥ä¿è¯RMé‡å¯ã€HAåˆ‡æ¢æˆ–å‘ç”Ÿæ•…éšœåé›†ç¾¤åº”ç”¨èƒ½å¤Ÿæ­£å¸¸æ¢å¤ï¼Œåç»­æµç¨‹ä¸­çš„æ¶‰åŠçŠ¶æ€å­˜å‚¨æ—¶ä¸å†èµ˜è¿°ï¼‰ï¼Œåº”ç”¨çŠ¶æ€å˜ä¸ºNEW_SAVINGï¼›</p>
<p><strong>3.åº”ç”¨çŠ¶æ€å­˜å‚¨å®Œæˆåï¼Œåº”ç”¨çŠ¶æ€å˜ä¸ºSUBMITTEDï¼›</strong>RMAppManagerå¼€å§‹å‘ResourceSchedulerï¼ˆYARN RMå¯æ‹”æ’èµ„æºè°ƒåº¦å™¨ï¼ŒYARNè‡ªå¸¦ä¸‰ç§è°ƒåº¦å™¨<code>FifoScheduler/FairScheduler/CapacityScheduler</code>ï¼Œå…¶ä¸­CapacityScheduleræ”¯æŒåŠŸèƒ½æœ€å¤šä½¿ç”¨æœ€å¹¿æ³›ï¼ŒFifoScheduleråŠŸèƒ½æœ€ç®€å•åŸºæœ¬ä¸å¯ç”¨ï¼Œä»Šå¹´ç¤¾åŒºå·²æ˜ç¡®ä¸å†ç»§ç»­æ”¯æŒFairSchedulerï¼Œå»ºè®®å·²æœ‰ç”¨æˆ·è¿è‡³CapacitySchedulerï¼‰æäº¤åº”ç”¨ï¼Œå¦‚æœæ— æ³•æ­£å¸¸æäº¤ï¼ˆä¾‹å¦‚é˜Ÿåˆ—ä¸å­˜åœ¨ã€ä¸æ˜¯å¶å­é˜Ÿåˆ—ã€é˜Ÿåˆ—å·²åœç”¨ã€è¶…å‡ºé˜Ÿåˆ—æœ€å¤§åº”ç”¨æ•°é™åˆ¶ç­‰ï¼‰åˆ™æŠ›å‡ºæ‹’ç»è¯¥åº”ç”¨ï¼Œåº”ç”¨çŠ¶æ€å…ˆå˜ä¸ºFINAL_SAVINGè§¦å‘åº”ç”¨çŠ¶æ€å­˜å‚¨æµç¨‹å¹¶åœ¨å®Œæˆåå˜ä¸ºFAILEDï¼›å¦‚æœæäº¤æˆåŠŸï¼Œåº”ç”¨çŠ¶æ€å˜ä¸ºACCEPTEDï¼›</p>
<p><strong>4.å¼€å§‹åˆ›å»ºåº”ç”¨è¿è¡Œå®ä¾‹</strong>(ApplicationAttemptï¼Œç”±äºä¸€æ¬¡è¿è¡Œå®ä¾‹ä¸­æœ€é‡è¦çš„ç»„ä»¶æ˜¯ApplicationMasterï¼Œä¸‹æ–‡ç®€ç§°AMï¼Œå®ƒçš„çŠ¶æ€ä»£è¡¨äº†ApplicationAttemptçš„å½“å‰çŠ¶æ€ï¼Œæ‰€ä»¥ApplicationAttemptå®é™…ä¹Ÿä»£è¡¨äº†AM)ï¼Œåˆå§‹çŠ¶æ€ä¸ºNEWï¼›</p>
<p><strong>5.åˆå§‹åŒ–åº”ç”¨è¿è¡Œå®ä¾‹ä¿¡æ¯ï¼Œ</strong>å¹¶å‘ApplicationMasterServiceï¼ˆAM&amp;RMåè®®æ¥å£æœåŠ¡ï¼Œå¤„ç†æ¥è‡ªAMçš„è¯·æ±‚ï¼Œä¸»è¦åŒ…æ‹¬æ³¨å†Œå’Œå¿ƒè·³ï¼‰æ³¨å†Œï¼Œåº”ç”¨å®ä¾‹çŠ¶æ€å˜ä¸ºSUBMITTEDï¼›</p>
<p><strong>6.RMAppManagerç»´æŠ¤çš„åº”ç”¨å®ä¾‹å¼€å§‹åˆå§‹åŒ–AMèµ„æºç”³è¯·ä¿¡æ¯å¹¶é‡æ–°æ ¡éªŒé˜Ÿåˆ—</strong>ï¼Œç„¶åå‘ResourceSchedulerç”³è¯·AM Containerï¼ˆContaineræ˜¯YARNä¸­èµ„æºçš„æŠ½è±¡ï¼ŒåŒ…å«äº†å†…å­˜ã€CPUç­‰å¤šç»´åº¦èµ„æºï¼‰ï¼Œåº”ç”¨å®ä¾‹çŠ¶æ€å˜ä¸ºACCEPTEDï¼›</p>
<p><strong>7.ResourceSchedulerä¼šæ ¹æ®ä¼˜å…ˆçº§</strong>ï¼ˆé˜Ÿåˆ—/åº”ç”¨/è¯·æ±‚æ¯ä¸ªç»´åº¦éƒ½æœ‰ä¼˜å…ˆçº§é…ç½®ï¼‰<strong>ä»æ ¹é˜Ÿåˆ—å¼€å§‹å±‚å±‚é€’è¿›</strong>ï¼Œå…ˆåé€‰æ‹©å½“å‰ä¼˜å…ˆçº§æœ€é«˜çš„å­é˜Ÿåˆ—ã€åº”ç”¨ç›´è‡³å…·ä½“æŸä¸ªè¯·æ±‚ï¼Œç„¶åç»“åˆé›†ç¾¤èµ„æºåˆ†å¸ƒç­‰æƒ…å†µä½œå‡ºåˆ†é…å†³ç­–ï¼ŒAM Containeråˆ†é…æˆåŠŸåï¼Œåº”ç”¨å®ä¾‹çŠ¶æ€å˜ä¸ºALLOCATED_SAVINGï¼Œå¹¶è§¦å‘åº”ç”¨å®ä¾‹çŠ¶æ€å­˜å‚¨æµç¨‹ï¼Œå­˜å‚¨æˆåŠŸååº”ç”¨å®ä¾‹çŠ¶æ€å˜ä¸ºALLOCATEDï¼›</p>
<p><strong>8.RMAppManagerç»´æŠ¤çš„åº”ç”¨å®ä¾‹å¼€å§‹é€šçŸ¥ApplicationMasterLauncher</strong>ï¼ˆAMç”Ÿå‘½å‘¨æœŸç®¡ç†æœåŠ¡ï¼Œè´Ÿè´£å¯åŠ¨æˆ–æ¸…ç†AM containerï¼‰å¯åŠ¨AM containerï¼ŒApplicationMasterLauncherä¸YARN NodeManagerï¼ˆä¸‹æ–‡ç®€ç§°YARN NMï¼Œä¸YARN RMä¿æŒé€šä¿¡ï¼Œè´Ÿè´£ç®¡ç†å•ä¸ªèŠ‚ç‚¹ä¸Šçš„å…¨éƒ¨èµ„æºã€Containerç”Ÿå‘½å‘¨æœŸã€é™„å±æœåŠ¡ç­‰ï¼Œç›‘æ§èŠ‚ç‚¹å¥åº·çŠ¶å†µå’ŒContainerèµ„æºä½¿ç”¨ï¼‰å»ºç«‹é€šä¿¡å¹¶è¯·æ±‚å¯åŠ¨AM containerï¼›</p>
<p><strong>9.ContainerManager</strong>ï¼ˆYARN NMæ ¸å¿ƒç»„ä»¶ï¼Œç®¡ç†æ‰€æœ‰Containerçš„ç”Ÿå‘½å‘¨æœŸï¼‰<strong>æ¥æ”¶åˆ°AM containerå¯åŠ¨è¯·æ±‚</strong>ï¼ŒYARN NMå¼€å§‹æ ¡éªŒContainer TokenåŠèµ„æºæ–‡ä»¶ï¼Œåˆ›å»ºåº”ç”¨å®ä¾‹å’ŒContainerå®ä¾‹å¹¶å­˜å‚¨è‡³æœ¬åœ°ï¼Œç»“æœè¿”å›ååº”ç”¨å®ä¾‹çŠ¶æ€å˜ä¸ºLAUNCHEDï¼›</p>
<p><strong>10.ResourceLocalizationService</strong>ï¼ˆèµ„æºæœ¬åœ°åŒ–æœåŠ¡ï¼Œè´Ÿè´£Containeræ‰€éœ€èµ„æºçš„æœ¬åœ°åŒ–ã€‚å®ƒèƒ½å¤ŸæŒ‰ç…§æè¿°ä»HDFSä¸Šä¸‹è½½Containeræ‰€éœ€çš„æ–‡ä»¶èµ„æºï¼Œå¹¶å°½é‡å°†å®ƒä»¬åˆ†æ‘Šåˆ°å„ä¸ªç£ç›˜ä¸Šä»¥é˜²æ­¢å‡ºç°è®¿é—®çƒ­ç‚¹ï¼‰<strong>åˆå§‹åŒ–å„ç§æœåŠ¡ç»„ä»¶</strong>ã€åˆ›å»ºå·¥ä½œç›®å½•ã€ä»HDFSä¸‹è½½è¿è¡Œæ‰€éœ€çš„å„ç§èµ„æºè‡³Containerå·¥ä½œç›®å½•ï¼ˆè·¯å¾„ä¸º: <code>${yarn.nodemanager.local-dirs}/usercache/${user}/appcache//</code>ï¼‰ï¼›</p>
<p><strong>11.ContainersLauncher</strong>ï¼ˆè´Ÿè´£containerçš„å…·ä½“æ“ä½œï¼ŒåŒ…æ‹¬å¯åŠ¨ã€é‡å¯ã€æ¢å¤å’Œæ¸…ç†ç­‰ï¼‰<strong>å°†å¾…è¿è¡ŒContaineræ‰€éœ€çš„ç¯å¢ƒå˜é‡å’Œè¿è¡Œå‘½ä»¤å†™åˆ°Containerå·¥ä½œç›®å½•ä¸‹</strong>çš„launch_container.shè„šæœ¬ä¸­ï¼Œç„¶åè¿è¡Œè¯¥è„šæœ¬å¯åŠ¨Containerï¼›</p>
<p><strong>12.Containerè¿›ç¨‹åŠ è½½å¹¶è¿è¡ŒClusterEntrypoint</strong>(Flink JobManagerå…¥å£ç±»ï¼Œæ¯ç§é›†ç¾¤éƒ¨ç½²æ¨¡å¼å’Œåº”ç”¨è¿è¡Œæ¨¡å¼éƒ½æœ‰ç›¸åº”çš„å®ç°ï¼Œä¾‹å¦‚åœ¨YARNé›†ç¾¤éƒ¨ç½²æ¨¡å¼ä¸‹ï¼Œper-jobåº”ç”¨è¿è¡Œæ¨¡å¼å®ç°ç±»æ˜¯YarnJobClusterEntrypointï¼Œsessionåº”ç”¨è¿è¡Œæ¨¡å¼å®ç°ç±»æ˜¯YarnSessionClusterEntrypoint)ï¼Œé¦–å…ˆåˆå§‹åŒ–ç›¸å…³è¿è¡Œç¯å¢ƒï¼š</p>
<ul>
<li>è¾“å‡ºå„è½¯ä»¶ç‰ˆæœ¬åŠè¿è¡Œç¯å¢ƒä¿¡æ¯ã€å‘½ä»¤è¡Œå‚æ•°é¡¹ã€classpathç­‰ä¿¡æ¯ï¼›</li>
<li>æ³¨å†Œå¤„ç†å„ç§SIGNALçš„handler:è®°å½•åˆ°æ—¥å¿—</li>
<li>æ³¨å†ŒJVMå…³é—­ä¿éšœçš„shutdown hookï¼šé¿å…JVMé€€å‡ºæ—¶è¢«å…¶ä»–shutdown hooké˜»å¡</li>
<li>æ‰“å°YARNè¿è¡Œç¯å¢ƒä¿¡æ¯ï¼šç”¨æˆ·å</li>
<li>ä»è¿è¡Œç›®å½•ä¸­åŠ è½½flink conf</li>
<li>åˆå§‹åŒ–æ–‡ä»¶ç³»ç»Ÿ</li>
<li>åˆ›å»ºå¹¶å¯åŠ¨å„ç±»å†…éƒ¨æœåŠ¡ï¼ˆåŒ…æ‹¬RpcServiceã€HAServiceã€BlobServerã€HeartbeatServicesã€MetricRegistryã€ExecutionGraphStoreç­‰ï¼‰</li>
<li>å°†RPC addresså’Œportæ›´æ–°åˆ°flink confé…ç½®</li>
</ul>
<p><strong>13.å¯åŠ¨ResourceManager</strong>ï¼ˆFlinkèµ„æºç®¡ç†æ ¸å¿ƒç»„ä»¶ï¼ŒåŒ…å«YarnResourceManagerå’ŒSlotManagerä¸¤ä¸ªå­ç»„ä»¶ï¼ŒYarnResourceManagerè´Ÿè´£å¤–éƒ¨èµ„æºç®¡ç†ï¼Œä¸YARN RMå»ºç«‹é€šä¿¡å¹¶ä¿æŒå¿ƒè·³ï¼Œç”³è¯·æˆ–é‡Šæ”¾TaskManagerèµ„æºï¼Œæ³¨é”€åº”ç”¨ç­‰ï¼›SlotManageråˆ™è´Ÿè´£å†…éƒ¨èµ„æºç®¡ç†ï¼Œç»´æŠ¤å…¨éƒ¨Slotä¿¡æ¯å’ŒçŠ¶æ€ï¼‰åŠç›¸å…³æœåŠ¡ï¼Œåˆ›å»ºå¼‚æ­¥AMRMClientï¼Œå¼€å§‹æ³¨å†ŒAMï¼Œæ³¨å†ŒæˆåŠŸåæ¯éš”ä¸€æ®µæ—¶é—´ï¼ˆå¿ƒè·³é—´éš”é…ç½®é¡¹ï¼š<code>${yarn.heartbeat.interval</code>}ï¼Œé»˜è®¤5sï¼‰å‘YARN RMå‘é€å¿ƒè·³æ¥å‘é€èµ„æºæ›´æ–°è¯·æ±‚å’Œæ¥å—èµ„æºå˜æ›´ç»“æœã€‚YARN RMå†…éƒ¨è¯¥åº”ç”¨å’Œåº”ç”¨è¿è¡Œå®ä¾‹çš„çŠ¶æ€éƒ½å˜ä¸ºRUNNINGï¼Œå¹¶é€šçŸ¥AMLivelinessMonitoræœåŠ¡ç›‘æ§AMæ˜¯å¦å­˜æ´»çŠ¶æ€ï¼Œå½“å¿ƒè·³è¶…è¿‡ä¸€å®šæ—¶é—´ï¼ˆé»˜è®¤10åˆ†é’Ÿï¼‰è§¦å‘AM failoveræµç¨‹ï¼›</p>
<p><strong>14.å¯åŠ¨Dispatcher</strong>ï¼ˆè´Ÿè´£æ¥æ”¶ç”¨æˆ·æä¾›çš„ä½œä¸šï¼Œå¹¶ä¸”è´Ÿè´£ä¸ºè¿™ä¸ªæ–°æäº¤çš„ä½œä¸šæ‹‰èµ·ä¸€ä¸ªæ–°çš„ JobManagerï¼‰åŠç›¸å…³æœåŠ¡ï¼ˆåŒ…æ‹¬REST endpointç­‰ï¼‰ï¼Œåœ¨per-jobè¿è¡Œæ¨¡å¼ä¸‹ï¼ŒDispatcherå°†ç›´æ¥ä»Containerå·¥ä½œç›®å½•åŠ è½½JobGraphæ–‡ä»¶ï¼›åœ¨sessionè¿è¡Œæ¨¡å¼ä¸‹ï¼ŒDispatcherå°†åœ¨æ¥æ”¶å®¢æˆ·ç«¯æäº¤çš„Jobï¼ˆ_é€šè¿‡BlockServeræ¥æ”¶job graphæ–‡ä»¶ï¼‰åå†è¿›è¡Œåç»­æµç¨‹ï¼›</p>
<p><strong>15.æ ¹æ®JobGraphå¯åŠ¨JobManager</strong>ï¼ˆè´Ÿè´£ä½œä¸šè°ƒåº¦ã€ç®¡ç†Jobå’ŒTaskçš„ç”Ÿå‘½å‘¨æœŸï¼‰ï¼Œæ„å»ºExecutionGraphï¼ˆJobGraphçš„å¹¶è¡ŒåŒ–ç‰ˆæœ¬ï¼Œè°ƒåº¦å±‚æœ€æ ¸å¿ƒçš„æ•°æ®ç»“æ„ï¼‰ï¼›</p>
<p><strong>16.JobManagerå¼€å§‹æ‰§è¡ŒExecutionGraph</strong>ï¼Œå‘ResourceManagerç”³è¯·èµ„æºï¼›</p>
<p><strong>17.ResourceManagerå°†èµ„æºè¯·æ±‚åŠ å…¥ç­‰å¾…è¯·æ±‚é˜Ÿåˆ—</strong>ï¼Œå¹¶é€šè¿‡å¿ƒè·³å‘YARN RMç”³è¯·æ–°çš„Containerèµ„æºæ¥å¯åŠ¨TaskManagerè¿›ç¨‹ï¼›åç»­æµç¨‹å¦‚æœæœ‰ç©ºé—²Slotèµ„æºï¼ŒSlotManagerå°†å…¶åˆ†é…ç»™ç­‰å¾…è¯·æ±‚é˜Ÿåˆ—ä¸­åŒ¹é…çš„è¯·æ±‚ï¼Œä¸ç”¨å†é€šè¿‡18. YarnResourceManagerç”³è¯·æ–°çš„TaskManagerï¼›</p>
<p><strong>18.YARN ApplicationMasterServiceæ¥æ”¶åˆ°èµ„æºè¯·æ±‚åï¼Œè§£æå‡ºæ–°çš„èµ„æºè¯·æ±‚å¹¶æ›´æ–°åº”ç”¨è¯·æ±‚ä¿¡æ¯ï¼›</strong></p>
<p><strong>19.YARN ResourceScheduleræˆåŠŸä¸ºè¯¥åº”ç”¨åˆ†é…èµ„æºåæ›´æ–°åº”ç”¨ä¿¡æ¯</strong>ï¼ŒApplicationMasterServiceæ¥æ”¶åˆ°Flink JobManagerçš„ä¸‹ä¸€æ¬¡å¿ƒè·³æ—¶è¿”å›æ–°åˆ†é…èµ„æºä¿¡æ¯ï¼›</p>
<p><strong>20.Flink ResourceManageræ¥æ”¶åˆ°æ–°åˆ†é…çš„Containerèµ„æºå</strong>ï¼Œå‡†å¤‡å¥½TaskManagerå¯åŠ¨ä¸Šä¸‹æ–‡ï¼ˆContainerLauncherContextï¼Œç”ŸæˆTaskManageré…ç½®å¹¶ä¸Šä¼ è‡³åˆ†å¸ƒå¼å­˜å‚¨ï¼Œé…ç½®å…¶ä»–ä¾èµ–å’Œç¯å¢ƒå˜é‡ç­‰ï¼‰ï¼Œç„¶åå‘YARN NMç”³è¯·å¯åŠ¨TaskManagerè¿›ç¨‹ï¼ŒYARN NMå¯åŠ¨Containerçš„æµç¨‹ä¸AM Containerå¯åŠ¨æµç¨‹åŸºæœ¬ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºåº”ç”¨å®ä¾‹åœ¨NMä¸Šå·²å­˜åœ¨å¹¶æœªRUNNINGçŠ¶æ€æ—¶åˆ™è·³è¿‡åº”ç”¨å®ä¾‹åˆå§‹åŒ–æµç¨‹ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼›</p>
<p><strong>21.TaskManagerè¿›ç¨‹åŠ è½½å¹¶è¿è¡ŒYarnTaskExecutorRunner</strong>ï¼ˆFlink TaskManagerå…¥å£ç±»ï¼‰ï¼Œåˆå§‹åŒ–æµç¨‹å®Œæˆåå¯åŠ¨TaskExecutorï¼ˆè´Ÿè´£æ‰§è¡ŒTaskç›¸å…³æ“ä½œï¼‰ï¼›</p>
<p><strong>22.TaskExecutorå¯åŠ¨åå…ˆå‘ResourceManageræ³¨å†Œ</strong>ï¼ŒæˆåŠŸåå†å‘SlotManageræ±‡æŠ¥è‡ªå·±çš„Slotèµ„æºä¸çŠ¶æ€ï¼›<br>SlotManageræ¥æ”¶åˆ°Slotç©ºé—²èµ„æºåä¸»åŠ¨è§¦å‘Slotåˆ†é…ï¼Œä»ç­‰å¾…è¯·æ±‚é˜Ÿåˆ—ä¸­é€‰å‡ºåˆé€‚çš„èµ„æºè¯·æ±‚åï¼Œå‘<br>TaskManagerè¯·æ±‚è¯¥Slotèµ„æº</p>
<p><strong>23.TaskManageræ”¶åˆ°è¯·æ±‚åæ£€æŸ¥è¯¥Slotæ˜¯å¦å¯åˆ†é…</strong>ï¼ˆä¸å­˜åœ¨åˆ™è¿”å›å¼‚å¸¸ä¿¡æ¯ï¼‰ã€Jobæ˜¯å¦å·²æ³¨å†Œï¼ˆæ²¡æœ‰åˆ™å…ˆæ³¨å†Œå†åˆ†é…Slotï¼‰ï¼Œæ£€æŸ¥é€šè¿‡åå°†Slotåˆ†é…ç»™JobManagerï¼›</p>
<p><strong>24.JobManageræ£€æŸ¥Slotåˆ†é…æ˜¯å¦é‡å¤</strong>ï¼Œé€šè¿‡åé€šçŸ¥Executionæ‰§è¡Œéƒ¨ç½²taskæµç¨‹ï¼Œå‘TaskExecutoræäº¤taskï¼›<br>TaskExecutorå¯åŠ¨æ–°çš„çº¿ç¨‹è¿è¡ŒTaskã€‚</p>
<hr>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://yq.aliyun.com/go/articleRenderRedirect?url=https%3A%2F%2Fgithub.com%2Fapache%2Fflink%2Ftree%2Frelease-1.9.0" target="_blank" rel="noopener">Flink Release-1.9 SourceCode</a><br><a href="https://yq.aliyun.com/go/articleRenderRedirect?url=https%3A%2F%2Fci.apache.org%2Fprojects%2Fflink%2Fflink-docs-release-1.9%2F" target="_blank" rel="noopener">Flink Release-1.9 Documents</a><br><a href="https://yq.aliyun.com/go/articleRenderRedirect?url=%23" target="_blank" rel="noopener">FLIP-6 - Flink Deployment and Process Model - Standalone, Yarn, Mesos, Kubernetes, etc.</a><br><a href="https://yq.aliyun.com/go/articleRenderRedirect?url=https%3A%2F%2Fgithub.com%2Fapache%2Fhadoop%2Ftree%2Fbranch-3.2" target="_blank" rel="noopener">YARN 3.2 SourceCode</a><br><a href="https://yq.aliyun.com/go/articleRenderRedirect?url=http%3A%2F%2Fhadoop.apache.org%2Fdocs%2Fr3.2.0%2F" target="_blank" rel="noopener">YARN 3.2.0 Documents</a></p>

                
                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2020/04/22/Linux-è½»é‡çº§çš„é›†ç¾¤ç®¡ç†åˆ©å™¨ClusterShell/" data-toggle="tooltip" data-placement="top" title="è½»é‡çº§çš„é›†ç¾¤ç®¡ç†åˆ©å™¨ClusterShell">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2020/04/12/Flink-Apache-Flinkï¼šç½‘ç»œæµæ§åŠåå‹/" data-toggle="tooltip" data-placement="top" title="Apache Flinkï¼šç½‘ç»œæµæ§åŠåå‹">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- tip start -->
                
                <div class="comment_notes_blank"></div>
                <div class="visitor_notice">
                    <img 
                        src="/img/notice.png" 
                        alt="notice"
                        title="notice"/>
                    <p class="notice">
                        é™¤éæ³¨æ˜ï¼Œæœ¬åšæ–‡ç« å‡ä¸ºåŸåˆ›ï¼Œè½¬è½½è¯·ä»¥é“¾æ¥å½¢å¼æ ‡æ˜æœ¬æ–‡åœ°å€.
                    </p>
                </div>
                

                
                <div class="comment_notes">
                    <p>
                        
                    </p>
                </div>
                
                <!-- tip end -->

                <!-- Music start-->
                
                <!-- Music end -->

                <!-- Sharing -->
                
                <!-- Sharing -->

                <!-- gitment start -->
                
                <!-- gitment end -->
			
			<!-- valine_comments start -->	
						
			<!-- valine_comments end -->
			
			<!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->
                
                <hr>
                <div id="lv-container" data-id="city" data-uid="MTAyMC80OTY0OC8yNjEzOQ==">
                    <script type="text/javascript">
                   (function(d, s) {
                       var j, e = d.getElementsByTagName(s)[0];

                       if (typeof LivereTower === 'function') { return; }

                       j = d.createElement(s);
                       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
                       j.async = true;

                       e.parentNode.insertBefore(j, e);
                   })(document, 'script');
                    </script>
                <noscript> ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·æ¿€æ´»JavaScript</noscript>
                </div>
                
                <!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->

            </div>
            

			
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

    
      <aside id="sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
          <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Flink-on-YARNï¼šä¸€å¼ å›¾è½»æ¾æŒæ¡åŸºç¡€æ¶æ„ä¸å¯åŠ¨æµç¨‹"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">Flink on YARNï¼šä¸€å¼ å›¾è½»æ¾æŒæ¡åŸºç¡€æ¶æ„ä¸å¯åŠ¨æµç¨‹</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Flink-on-YARN-æµç¨‹å›¾"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">Flink on YARN æµç¨‹å›¾</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#å®¢æˆ·ç«¯æäº¤æµç¨‹"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">å®¢æˆ·ç«¯æäº¤æµç¨‹</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Flink-Clusterå¯åŠ¨æµç¨‹"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">Flink Clusterå¯åŠ¨æµç¨‹</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#å‚è€ƒèµ„æ–™"><span class="toc-nav-number">5.</span> <span class="toc-nav-text">å‚è€ƒèµ„æ–™</span></a></li></ol>
        
        </div>
      </aside>
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#Flink" title="Flink">Flink</a>
                        
                          <a class="tag" href="/tags/#Yarn" title="Yarn">Yarn</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>
        </div>
    </div>
</article>



<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'â„¬'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>


<style  type="text/css">
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">

                

                

                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; GY 2021 
                    <br>
                    Powered by 
                    <a href="https://github.com/dusign/hexo-theme-snail" target="_blank" rel="noopener">
                        <i>hexo-theme-snail</i>
                    </a> | 
                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0"
                        width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=dusign&repo=hexo-theme-snail&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>

</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/hux-blog.min.js"></script>


<!-- Search -->

<script src="/js/search.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- ç™¾åº¦ç«™é•¿ -->
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://gaothink.top/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->




<!-- Search -->

    <script type="text/javascript">      
        var search_path = "search.xml";
        if (search_path.length == 0) {
            search_path = "search.xml";
        }
    var path = "/" + search_path;
    searchFunc(path, 'local-search-input', 'local-search-result');
    </script>


<!-- busuanzi -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>
	
    
        <!-- background effects line -->
        

        
            <script type="text/javascript" src="/js/mouse-click.js" content='[&#34;ğŸŒ±&#34;,&#34;ğŸ€&#34;]' color='[&#34;rgb(121,93,179)&#34; ,&#34;rgb(76,180,231)&#34; ,&#34;rgb(184,90,154)&#34;]'></script>
        

        <!-- background effects end -->
    

    <!--<script size="50" alpha='0.3' zIndex="-999" src="/js/ribbonStatic.js"></script>-->
    
        <script src="/js/ribbonDynamic.js"></script>
    
	
	
        <script type="text/javascript" src="/js/fancybox/jquery.fancybox.min.js"></script>
        <script type="text/javascript" src="/js/wrapImage.js"></script>
    
	
</body>

</html>
